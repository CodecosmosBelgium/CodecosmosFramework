{"version":3,"sources":["mindKeeper.ts"],"names":[],"mappings":"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","file":"../reeks2missie7/scripts/mindKeeper.js","sourcesContent":["import { DynamicPropertiesDefinition, PropertyRegistry, World } from \"@minecraft/server\";\r\n\r\nclass Store {\r\n  type: StoreType;\r\n  name: string;\r\n\r\n  constructor(type: StoreType, name: string) {\r\n    this.type = type;\r\n    this.name = name;\r\n  }\r\n\r\n  getType(): StoreType {\r\n    return this.type;\r\n  }\r\n\r\n  getName(): string {\r\n    return this.name;\r\n  }\r\n}\r\n\r\nenum StoreType {\r\n  string = \"string\",\r\n  number = \"number\",\r\n  boolean = \"boolean\",\r\n}\r\n\r\nclass Mindkeeper {\r\n  registerdStores: Array<Store> = [];\r\n\r\n  propertyManager = new DynamicPropertiesDefinition();\r\n\r\n  world: World;\r\n\r\n  initialised: boolean = false;\r\n\r\n  constructor(world: World) {\r\n    this.world = world;\r\n  }\r\n\r\n  registerStore(store: string, type: StoreType): void {\r\n    this.registerdStores.push(new Store(type, store));\r\n  }\r\n\r\n  getStores() {\r\n    return this.registerdStores;\r\n  }\r\n\r\n  registerToWorld(propertyRegistry: PropertyRegistry) {\r\n    for (let i = 0; i < this.registerdStores.length; i++) {\r\n      let isAlreadyDefined = true;\r\n\r\n      try {\r\n        let test = this.world.getDynamicProperty(this.registerdStores[i].getName());\r\n        if (test === undefined) {\r\n          isAlreadyDefined = false;\r\n        }\r\n      } catch (e) {\r\n        isAlreadyDefined = false;\r\n      }\r\n      if (isAlreadyDefined) {\r\n        continue;\r\n      }\r\n      switch (this.registerdStores[i].getType()) {\r\n        case StoreType.string:\r\n          this.propertyManager.defineString(this.registerdStores[i].getName(), 255);\r\n          break;\r\n        case StoreType.number:\r\n          this.propertyManager.defineNumber(this.registerdStores[i].getName(), 0);\r\n          break;\r\n        case StoreType.boolean:\r\n          this.propertyManager.defineBoolean(this.registerdStores[i].getName(), false);\r\n          break;\r\n      }\r\n    }\r\n    propertyRegistry.registerWorldDynamicProperties(this.propertyManager);\r\n    this.initialised = true;\r\n  }\r\n\r\n  set(store: string, value: string | number | boolean): void {\r\n    if (this.registerdStores.find((s) => s.getName() === store)?.getType() != typeof value) {\r\n      this.world.sendMessage(`Store ${store} is not of type ${typeof value}`);\r\n      return;\r\n    }\r\n    this.world.setDynamicProperty(store, value);\r\n  }\r\n\r\n  get(store: string): string | number | boolean | undefined {\r\n    try {\r\n      let data = this.world.getDynamicProperty(store);\r\n      if (data === undefined) {\r\n        this.world.sendMessage(`Store ${store} is not defined`);\r\n        return undefined;\r\n      }\r\n      return data;\r\n    } catch (e) {\r\n      this.world.sendMessage(`Store ${store} is not defined`);\r\n      return undefined;\r\n    }\r\n  }\r\n}\r\n\r\nexport { Mindkeeper, Store, StoreType };\r\n"],"sourceRoot":"../../../scripts/"}